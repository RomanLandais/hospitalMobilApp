"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1624],{1624:(C,u,r)=>{r.r(u),r.d(u,{HomePage:()=>O});var i=r(4341),g=r(177),_=r(6657),a=r(7863),n=r(4438),d=r(2205),p=r(1007),f=r(5260);function P(t,m){1&t&&(n.j41(0,"ion-text"),n.EFF(1," Email requis "),n.k0s())}function E(t,m){1&t&&(n.j41(0,"ion-text"),n.EFF(1," Email n'est pas valide "),n.k0s())}function v(t,m){if(1&t&&(n.j41(0,"ion-item",9),n.DNE(1,P,2,0,"ion-text",10)(2,E,2,0,"ion-text",10),n.k0s()),2&t){let s,e;const o=n.XpG();n.R7$(),n.Y8G("ngIf",null==(s=o.signInForm.get("email"))||null==s.errors?null:s.errors.required),n.R7$(),n.Y8G("ngIf",null==(e=o.signInForm.get("email"))||null==e.errors?null:e.errors.email)}}function I(t,m){1&t&&(n.j41(0,"ion-text"),n.EFF(1," Mot de passe requis "),n.k0s())}function M(t,m){if(1&t&&(n.j41(0,"ion-item",9),n.DNE(1,I,2,0,"ion-text",10),n.k0s()),2&t){let s;const e=n.XpG();n.R7$(),n.Y8G("ngIf",null==(s=e.signInForm.get("password"))||null==s.errors?null:s.errors.required)}}let O=(()=>{var t;class m{constructor(e,o,l,c){this.fb=e,this.comServerService=o,this.tokenService=l,this.router=c}ngOnInit(){this.signInForm=this.fb.group({email:["",[i.k0.required,i.k0.email]],password:["",i.k0.required]})}onSignInSubmit(){this.comServerService.sendDataLogin(this.signInForm.value,"signInMobil").subscribe({next:e=>{this.tokenService.setCsrfToken(e.token),this.tokenService.setUserId(e.userId),this.router.navigate(["/consultation"])},error:e=>{console.error("Error:",e),401===e.status?e.error&&"Acc\xe8s refus\xe9. Seuls les m\xe9decins peuvent se connecter."===e.error.error?alert("Acc\xe8s refus\xe9. Seuls les m\xe9decins peuvent se connecter."):alert("Utilisateur non trouv\xe9 ou mot de passe incorrect. Veuillez r\xe9essayer."):e.error&&console.error("Error details:",e.error)},complete:()=>alert("Connect\xe9 avec succ\xe8s")})}}return(t=m).\u0275fac=function(e){return new(e||t)(n.rXU(i.ok),n.rXU(d._),n.rXU(p.B),n.rXU(f.Ix))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-home"]],standalone:!0,features:[n.aNF],decls:17,vars:5,consts:[[1,"ion-padding","logo",3,"fullscreen"],[1,"logo_container"],[1,"sign","in","novalidate",3,"ngSubmit","formGroup"],[1,"row","mb-3"],["position","stacked",1,"col-sm-5","col-form-label"],["type","email","formControlName","email","id","inputEmail2","required","",1,"input-container"],["class","text-danger",4,"ngIf"],["type","password","formControlName","password","id","inputPassword2","required","",1,"input-container"],["type","submit","expand","block","color","primary",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(e,o){if(1&e&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"form",2),n.bIt("ngSubmit",function(){return o.onSignInSubmit()}),n.j41(3,"h4"),n.EFF(4,"Connexion"),n.k0s(),n.j41(5,"ion-item",3)(6,"ion-label",4),n.EFF(7,"Email"),n.k0s(),n.nrm(8,"ion-input",5),n.DNE(9,v,3,2,"ion-item",6),n.k0s(),n.j41(10,"ion-item",3)(11,"ion-label",4),n.EFF(12,"Mot de passe"),n.k0s(),n.nrm(13,"ion-input",7),n.DNE(14,M,2,1,"ion-item",6),n.k0s(),n.j41(15,"ion-button",8),n.EFF(16,"Connexion"),n.k0s()()()()),2&e){let l,c;n.Y8G("fullscreen",!0),n.R7$(2),n.Y8G("formGroup",o.signInForm),n.R7$(7),n.Y8G("ngIf",(null==(l=o.signInForm.get("email"))?null:l.touched)&&(null==(l=o.signInForm.get("email"))?null:l.invalid)),n.R7$(5),n.Y8G("ngIf",(null==(c=o.signInForm.get("password"))?null:c.touched)&&(null==(c=o.signInForm.get("password"))?null:c.invalid)),n.R7$(),n.Y8G("disabled",o.signInForm.invalid)}},dependencies:[g.MD,g.bT,i.X1,i.qT,i.BC,i.cb,i.YS,i.j4,i.JD,_.D,a.bv,a.Jm,a.W9,a.$w,a.uz,a.he,a.IO,a.Gw],styles:[".logo_container[_ngcontent-%COMP%]{background-image:url(logoImage.ac96b484ac547420.png);background-size:contain;background-position:center;background-repeat:no-repeat}form[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column}.input-container[_ngcontent-%COMP%]{margin-top:1rem;border:1px solid #ccc;padding:10px;border-radius:5px}.text-danger[_ngcontent-%COMP%]{color:red}.sign.in[_ngcontent-%COMP%]{padding:20px}.sign.in[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px}.sign.in[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{margin-bottom:15px}.sign.in[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-top:5px}.sign.in[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:15%;color:#fff;background-color:#5784ba}"]}),m})()}}]);